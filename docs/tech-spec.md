# Введение

В этом документе буду описывать все пояснения по реализации.
Логично, полезно разработчикам и инженерам поддержки.
Бизнесу тут делать нечего.

# Структуры данных

## Название очереди

Название очереди представляется структурой `QueueName`.
Само название должно удовлетворять бизнес-требованиям, указанным в [функциональной спецификации](func-spec.md#название-очереди)

В качестве кодировки используется `ASCII`.
Выбранные допустимые символы образуют непрерывный диапазон кодов из таблицы.
Начинается с 33 `!`, заканчивающиеся 126 `~`.

Поэтому проверка будет тривиальной - проверка диапазона байта символа

Первые 127 символов `ASCII` совпадают с первыми символами `UTF-8`, поэтому в случае правильного назваания, кодировки можно использовать взаимозаменяемо.

Так как максимальная длина названия 255 символов соответствует максимальному значению байта и каждый символ занимает 1 байт, 
то длина строки названия указывается байтом (беззнаковым).

# Файловая система

## Базовая директория

Базовая директория наследуется от вызывающей программы. 
Поэтому, `TaskFlux` надо запускать из директории, в которой находятся нужные файлы для выполнения.

> TODO: может надо добавить возможность указывать базовую директорию при запуске

## Файловая структура

В базовой директории должны находиться все указанные файлы и каталоги для корректной работы приложения. 
`*Base*` указывает на базовую директорию.

`*Base*`:
- `consensus` - директория, содержащая файлы необходимые для рафта
  - `raft.log` - файл с логом реплицируемых команд
  - `raft.metadata` - файл с метаданными узла (метаданные, необходимые для рафта)
  - `state.snap` - файл слепка состояния системы для восстановления после старта
