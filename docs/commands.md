# Команды

Данный документ описывает поддерживаемые типы команд и ответов на них.
Указанные команды передаются в теле Data Request и Data Response для запросов и ответов соответственно.

Эти же команды будут сериализованы в лог.

# Запросы

## Enqueue

Запрос на добавления записи в требуемую очередь.
Ключ указывается в виде Int32 значения.
Тело имеет длину указанную в поле "Длина"

Формат:

| Маркер | Ключ  | Длина | Тело   |
|--------|-------|-------|--------|
| 'E'    | Int32 | Int32 | Byte[] |

## Dequeue

Запрос на получение записи из очереди.

Формат:

| Маркер |
|--------|
| 'D'    |

## Count

Получить количество записей в очереди 

Формат:

| Marker |
|--------|
| 'C'    |

# Ответы

## Enqueue

Возвращает ответ на запрос 'Enqueue'

Успех: 1 - значение добавлено в очередь, 0 - не добавлено

Формат:

| Маркер | Успех |
|--------|-------|
| 'e'    | Byte  |

## Dequeue

Ответ на запрос 'Dequeue'.
Если из очереди получилось получить данные, то в поле Success будет выставлено 1, в противном случае 0.
В зависимости от того, получилось ли извлечь данные (поле Success) будут выставлены остальные поля.
Если значение было получено, то остальные поля представлены, иначе дальше не будет данных

Формат:

| Marker | Success | Key   | Length | Payload |
|--------|---------|-------|--------|---------|
| 'd'    | Byte    | Int32 | Int32  | Byte[]  |

Если данные присутствуют:

| Marker | Success  | Key   | Length | Payload |
|--------|----------|-------|--------|---------|
| 'd'    | Byte (1) | Int32 | Int32  | Byte[]  |

Если данные отсутствуют:

| Marker | Success  |
|--------|----------|
| 'd'    | Byte (0) | 

## Count

Ответ на Count запрос

Формат:

| Marker | Count |
|--------|-------|
| 'c'    | Int32 |

